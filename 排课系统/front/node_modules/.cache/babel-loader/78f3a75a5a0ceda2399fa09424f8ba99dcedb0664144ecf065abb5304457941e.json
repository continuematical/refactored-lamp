{"ast":null,"code":"import { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { X_FIELD, Y_FIELD } from './constants';\nexport { meta };\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n  var chart = params.chart,\n    options = params.options;\n  var data = options.data,\n    color = options.color,\n    lineStyle = options.lineStyle,\n    pointMapping = options.point;\n  var pointState = pointMapping === null || pointMapping === void 0 ? void 0 : pointMapping.state;\n  var seriesData = getTinyData(data);\n  chart.data(seriesData);\n  // line geometry 处理\n  var primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color: color,\n        style: lineStyle\n      },\n      point: pointMapping\n    }\n  });\n  var pointParams = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n      state: pointState\n    }\n  });\n  line(primary);\n  point(pointParams);\n  chart.axis(false);\n  chart.legend(false);\n  return params;\n}\n/**\n * 迷你折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}","map":{"version":3,"names":["flow","deepAssign","theme","animation","annotation","tooltip","line","point","meta","getTinyData","X_FIELD","Y_FIELD","geometry","params","chart","options","data","color","lineStyle","pointMapping","pointState","state","seriesData","primary","xField","yField","style","pointParams","axis","legend","adaptor"],"sources":["../../../src/plots/tiny-line/adaptor.ts"],"sourcesContent":["import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * 字段\n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry 处理\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * 迷你折线图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n"],"mappings":"AACA,SAASA,IAAI,EAAEC,UAAU,QAAQ,aAAa;AAC9C,SAASC,KAAK,EAAEC,SAAS,EAAEC,UAAU,EAAEC,OAAO,QAAQ,sBAAsB;AAC5E,SAASC,IAAI,EAAEC,KAAK,QAAQ,0BAA0B;AACtD,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,SAASC,WAAW,QAAQ,SAAS;AAErC,SAASC,OAAO,EAAEC,OAAO,QAAQ,aAAa;AAE9C,SAASH,IAAI;AAEb;;;;AAIA,SAASI,QAAQA,CAACC,MAA+B;EACvC,IAAAC,KAAK,GAAcD,MAAM,CAAAC,KAApB;IAAEC,OAAO,GAAKF,MAAM,CAAAE,OAAX;EACd,IAAAC,IAAI,GAA4CD,OAAO,CAAAC,IAAnD;IAAEC,KAAK,GAAqCF,OAAO,CAAAE,KAA5C;IAAEC,SAAS,GAA0BH,OAAO,CAAAG,SAAjC;IAASC,YAAY,GAAKJ,OAAO,CAAAR,KAAZ;EAEnD,IAAMa,UAAU,GAAGD,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEE,KAAK;EAEtC,IAAMC,UAAU,GAAGb,WAAW,CAACO,IAAI,CAAC;EAEpCF,KAAK,CAACE,IAAI,CAACM,UAAU,CAAC;EAEtB;EACA,IAAMC,OAAO,GAAGtB,UAAU,CAAC,EAAE,EAAEY,MAAM,EAAE;IACrCE,OAAO,EAAE;MACPS,MAAM,EAAEd,OAAO;MACfe,MAAM,EAAEd,OAAO;MACfL,IAAI,EAAE;QACJW,KAAK,EAAAA,KAAA;QACLS,KAAK,EAAER;OACR;MACDX,KAAK,EAAEY;;GAEV,CAAC;EACF,IAAMQ,WAAW,GAAG1B,UAAU,CAAC,EAAE,EAAEsB,OAAO,EAAE;IAAER,OAAO,EAAE;MAAEV,OAAO,EAAE,KAAK;MAAEgB,KAAK,EAAED;IAAU;EAAE,CAAE,CAAC;EAE/Fd,IAAI,CAACiB,OAAO,CAAC;EACbhB,KAAK,CAACoB,WAAW,CAAC;EAElBb,KAAK,CAACc,IAAI,CAAC,KAAK,CAAC;EACjBd,KAAK,CAACe,MAAM,CAAC,KAAK,CAAC;EAEnB,OAAOhB,MAAM;AACf;AAEA;;;;;AAKA,OAAM,SAAUiB,OAAOA,CAACjB,MAA+B;EACrD,OAAOb,IAAI,CAACY,QAAQ,EAAEJ,IAAI,EAAEN,KAAK,EAAEG,OAAO,EAAEF,SAAS,EAAEC,UAAU,EAAE,CAAC,CAACS,MAAM,CAAC;AAC9E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}