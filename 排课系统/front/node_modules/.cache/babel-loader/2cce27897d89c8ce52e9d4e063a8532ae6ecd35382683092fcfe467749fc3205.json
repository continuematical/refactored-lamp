{"ast":null,"code":"import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nexport { meta };\n/**\n * 字段\n * @param params\n */\nfunction geometry(params) {\n  var chart = params.chart,\n    options = params.options;\n  var data = options.data,\n    color = options.color,\n    columnStyle = options.columnStyle,\n    columnWidthRatio = options.columnWidthRatio;\n  var seriesData = getTinyData(data);\n  chart.data(seriesData);\n  var p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color: color\n      }\n    }\n  });\n  interval(p);\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n/**\n * 迷你柱形图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}","map":{"version":3,"names":["theme","animation","annotation","tooltip","pattern","flow","deepAssign","interval","X_FIELD","Y_FIELD","getTinyData","meta","geometry","params","chart","options","data","color","columnStyle","columnWidthRatio","seriesData","p","xField","yField","widthRatio","style","axis","legend","interaction","adaptor"],"sources":["../../../src/plots/tiny-column/adaptor.ts"],"sourcesContent":["import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * 字段\n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * 迷你柱形图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,SAAS,EAAEC,UAAU,EAAEC,OAAO,EAAEC,OAAO,QAAQ,sBAAsB;AAErF,SAASC,IAAI,EAAEC,UAAU,QAAQ,aAAa;AAC9C,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAASC,OAAO,EAAEC,OAAO,QAAQ,wBAAwB;AACzD,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,IAAI,QAAQ,sBAAsB;AAG3C,SAASA,IAAI;AAEb;;;;AAIA,SAASC,QAAQA,CAACC,MAAiC;EACzC,IAAAC,KAAK,GAAcD,MAAM,CAAAC,KAApB;IAAEC,OAAO,GAAKF,MAAM,CAAAE,OAAX;EACd,IAAAC,IAAI,GAA2CD,OAAO,CAAAC,IAAlD;IAAEC,KAAK,GAAoCF,OAAO,CAAAE,KAA3C;IAAEC,WAAW,GAAuBH,OAAO,CAAAG,WAA9B;IAAEC,gBAAgB,GAAKJ,OAAO,CAAAI,gBAAZ;EAElD,IAAMC,UAAU,GAAGV,WAAW,CAACM,IAAI,CAAC;EAEpCF,KAAK,CAACE,IAAI,CAACI,UAAU,CAAC;EAEtB,IAAMC,CAAC,GAAGf,UAAU,CAAC,EAAE,EAAEO,MAAM,EAAE;IAC/BE,OAAO,EAAE;MACPO,MAAM,EAAEd,OAAO;MACfe,MAAM,EAAEd,OAAO;MACfe,UAAU,EAAEL,gBAAgB;MAC5BZ,QAAQ,EAAE;QACRkB,KAAK,EAAEP,WAAW;QAClBD,KAAK,EAAAA;;;GAGV,CAAC;EACFV,QAAQ,CAACc,CAAC,CAAC;EAEXP,KAAK,CAACY,IAAI,CAAC,KAAK,CAAC;EACjBZ,KAAK,CAACa,MAAM,CAAC,KAAK,CAAC;EACnBb,KAAK,CAACc,WAAW,CAAC,gBAAgB,CAAC;EACnC,OAAOf,MAAM;AACf;AAEA;;;;;AAKA,OAAM,SAAUgB,OAAOA,CAAChB,MAAiC;EACvD,OAAOR,IAAI,CAACL,KAAK,EAAEI,OAAO,CAAC,aAAa,CAAC,EAAEQ,QAAQ,EAAED,IAAI,EAAER,OAAO,EAAEF,SAAS,EAAEC,UAAU,EAAE,CAAC,CAACW,MAAM,CAAC;AACtG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}